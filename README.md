# n2n-admin Web UI

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Go Version](https://img.shields.io/badge/Go-1.21+-00ADD8.svg)](https://golang.org)
[![React Version](https://img.shields.io/badge/React-18-61DAFB.svg)](https://reactjs.org)

**n2n-admin** æ˜¯ä¸€ä¸ªä¸“ä¸º [n2n](https://github.com/ntop/n2n) (Layer 2 P2P VPN) è®¾è®¡çš„ç°ä»£åŒ–å…¨æ ˆç®¡ç†é¢æ¿ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç›´è§‚çš„ Web ç•Œé¢ï¼Œç”¨äºç®¡ç†è¶…çº§èŠ‚ç‚¹ï¼ˆSupernodeï¼‰ã€ç›‘æ§è¾¹ç¼˜èŠ‚ç‚¹ï¼ˆEdgeï¼‰çŠ¶æ€ä»¥åŠåˆ†æç½‘ç»œæ‹“æ‰‘ã€‚

---

## âœ¨ åŠŸèƒ½äº®ç‚¹

- ğŸ›¡ï¸ **å®‰å…¨å…ˆè¡Œ**: å®Œæ•´çš„ JWT èº«ä»½éªŒè¯ç³»ç»Ÿï¼Œæ”¯æŒç®¡ç†å‘˜å¯†ç åœ¨çº¿ä¿®æ”¹ã€‚
- ğŸ“Š **ç½‘ç»œæ‹“æ‰‘å¯è§†åŒ–**: å®æ—¶æ¸²æŸ“å…¨ç½‘èŠ‚ç‚¹è¿æ¥å…³ç³»å›¾ï¼ˆåŸºäº vis-networkï¼‰ã€‚
- ğŸ•µï¸ **å®æ—¶ä¸­è½¬ç›‘æ§**: æ·±åº¦è§£ææ—¥å¿—ï¼Œç²¾å‡†è¯†åˆ«å“ªäº›èŠ‚ç‚¹æ­£åœ¨èµ° Relay æ¨¡å¼åŠè½¬å‘æµé‡ã€‚
- ğŸ—ºï¸ **åœ°ç†ä½ç½®è¯†åˆ«**: é›†æˆ GeoIP æ¥å£ï¼Œè‡ªåŠ¨åˆ†æåœ¨çº¿èŠ‚ç‚¹çš„å…¬ç½‘å½’å±åœ°åŠ ISP è¿è¥å•†ã€‚
- âš™ï¸ **æœåŠ¡ç®¡ç†**: åœ¨çº¿ä¿®æ”¹ Supernode é…ç½®ï¼ˆ-p, -t, -c ç­‰ï¼‰ï¼Œæ”¯æŒä¸€é”®é‡å¯ç³»ç»ŸæœåŠ¡ã€‚
- ğŸ› ï¸ **ç½‘ç»œå·¥å…·ç®±**: ç›´æ¥åœ¨ç½‘é¡µç«¯å¯¹è™šæ‹Ÿç½‘ IP è¿›è¡Œå®æ—¶ Ping å’Œ Traceroute æµ‹è¯•ã€‚
- ğŸ“ **å®æ—¶æ—¥å¿—æµ**: ä½¿ç”¨ SSE (Server-Sent Events) æŠ€æœ¯å®æ—¶è¿½è¸ªè¶…çº§èŠ‚ç‚¹è¿è¡Œæ—¥å¿—ã€‚
- ğŸ“¦ **å•æ–‡ä»¶éƒ¨ç½²**: åç«¯è‡ªåŠ¨åµŒå…¥å‰ç«¯é™æ€èµ„æºï¼Œç¼–è¯‘åä»…éœ€ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è¿è¡Œç¯å¢ƒå‡†å¤‡
- **æ“ä½œç³»ç»Ÿ**: Linux (Ubuntu/CentOS/Debian ç­‰ï¼Œéœ€æ”¯æŒ `systemctl`)
- **n2n ç»„ä»¶**: 
  - è¯·ç¡®ä¿å·²å®‰è£… n2n v3.xã€‚
  - **å®˜æ–¹ä¸‹è½½åœ°å€**: [n2n GitHub Releases](https://github.com/ntop/n2n/releases)
- **ç¼–è¯‘ä¾èµ–**: 
  - Go 1.21+
  - Node.js 18+

### 2. ç¼–è¯‘ä¸å®‰è£…
```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-username/n2n-admin.git
cd n2n-admin

# ä¸€é”®æ„å»º (è‡ªåŠ¨å¤„ç†å‰åç«¯ç¼–è¯‘ä¸é™æ€èµ„æºåµŒå…¥)
chmod +x build.sh
./build.sh
```

### 3. è¿è¡ŒæœåŠ¡
```bash
cd backend
./n2n_admin
```
*æ³¨ï¼šä½ å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡ä¿®æ”¹ JWT å¯†é’¥ï¼š`export N2N_ADMIN_SECRET="your-secret-key"`*

### 4. è®¿é—®
æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://your-ip:8080`
- **é»˜è®¤è´¦å·**: `admin`
- **é»˜è®¤å¯†ç **: `admin123`

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„è¯´æ˜

### åç«¯ (Backend)
- **æ ¸å¿ƒæ¡†æ¶**: [Gin Web Framework](https://gin-gonic.com/)
- **æ•°æ®åº“**: SQLite + [GORM](https://gorm.io/)
- **ç½‘ç»œé€šä¿¡**: 
  - é€šè¿‡ UDP ä¸ n2n ç®¡ç†æ¥å£é€šä¿¡ã€‚
  - é€šè¿‡ `journalctl` ç®¡é“å®æ—¶æŠ“å–æœåŠ¡æ—¥å¿—ã€‚
- **å…³é”®æ¨¡å—**:
  - `utils/n2n_mgmt.go`: å°è£…äº†å¯¹ supernode ç®¡ç†ç«¯å£çš„äº¤äº’å‘½ä»¤ã€‚
  - `main.go`: åŒ…å« JWT ä¸­é—´ä»¶ã€æ—¥å¿—æµå¤„ç†å™¨åŠå„åŠŸèƒ½æ¥å£ã€‚

### å‰ç«¯ (Frontend)
- **æŠ€æœ¯æ ˆ**: React 18 + TypeScript + Vite
- **UI ç»„ä»¶åº“**: [Ant Design 5.x](https://ant.design/)
- **çŠ¶æ€ç®¡ç†ä¸è·¯ç”±**: React Router v6 + Axios (å¸¦æœ‰ç»Ÿä¸€é‰´æƒæ‹¦æˆªå™¨)
- **å¯è§†åŒ–**:
  - `vis-network`: è´Ÿè´£åŠ¨æ€æ‹“æ‰‘å›¾çš„æ¸²æŸ“ã€‚
  - `dayjs`: å¤„ç†æ—¶é—´æ ¼å¼åŒ–ã€‚

---

## ğŸ¤ è´¡çŒ®
æ¬¢è¿æäº¤ Issue æˆ– Pull Request æ¥å®Œå–„è¿™ä¸ªé¡¹ç›®ï¼

## ğŸ“„ å¼€æºåè®®
æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) åè®®ã€‚